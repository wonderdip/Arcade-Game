[gd_scene load_steps=27 format=4 uid="uid://5s78wt7um3vv"]

[ext_resource type="PackedScene" uid="uid://cf3plcg7m0wcg" path="res://Scenes/player.tscn" id="1_a02cp"]
[ext_resource type="Script" uid="uid://bshn1jsaig2fx" path="res://Scripts/world.gd" id="1_fo5ed"]
[ext_resource type="Texture2D" uid="uid://jhr0hmkkxwpy" path="res://Assets/World/NetPole.png" id="2_5a7ea"]
[ext_resource type="Texture2D" uid="uid://c4hb1weoybdb7" path="res://Assets/World/Court-Sheet.png" id="2_go701"]
[ext_resource type="Texture2D" uid="uid://bqf0dsaerynpd" path="res://Assets/World/BG.png" id="3_o06y3"]
[ext_resource type="Script" uid="uid://b3vf3iffgaffp" path="res://Scripts/hover_zone.gd" id="4_5ukr8"]
[ext_resource type="Texture2D" uid="uid://byabc8xbtfjnq" path="res://Assets/World/BleachersBG.png" id="4_5v1tr"]
[ext_resource type="Texture2D" uid="uid://duddr3iorihic" path="res://Assets/World/StandsBG.png" id="4_k7acu"]
[ext_resource type="PackedScene" uid="uid://dvtr6ublg51mt" path="res://Scenes/score_board.tscn" id="10_0fj1v"]
[ext_resource type="Script" uid="uid://7pu4le1bq5tt" path="res://Scripts/multiplayer_spawner.gd" id="10_ikia7"]
[ext_resource type="Shader" uid="uid://binjhiy2didyr" path="res://Shaders/Vignette.gdshader" id="11_ikia7"]
[ext_resource type="PackedScene" uid="uid://c58nyk17ffnwj" path="res://Scenes/Menus/in_game_ui.tscn" id="12_7yui6"]
[ext_resource type="PackedScene" uid="uid://veqwgi21gh56" path="res://Scenes/bot.tscn" id="13_c5t2i"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5v1tr"]
size = Vector2(128, 30)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0fj1v"]
size = Vector2(128, 30)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_5a7ea"]
texture = ExtResource("2_go701")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -5, 8, -5, 8, 8, -8, 8)
1:0/0 = 0
2:0/0 = 0
2:0/0/physics_layer_1/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSet" id="TileSet_8j60k"]
physics_layer_0/collision_layer = 4
physics_layer_0/collision_mask = 4
physics_layer_0/collision_priority = 20.0
physics_layer_1/collision_layer = 8
physics_layer_1/collision_mask = 8
physics_layer_1/collision_priority = 20.0
sources/0 = SubResource("TileSetAtlasSource_5a7ea")

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_5v1tr"]
bounce = 0.6

[sub_resource type="RectangleShape2D" id="RectangleShape2D_k7acu"]
size = Vector2(12, 194)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_5ukr8"]
friction = 10.0
bounce = 0.55
absorbent = true

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_5a7ea"]
radius = 4.0
height = 74.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5a7ea"]
size = Vector2(12, 116)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8j60k"]
size = Vector2(24, 87.25)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o06y3"]
size = Vector2(156, 15.5)

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_c5t2i"]
properties/0/path = NodePath("ScoreBoard:last_point")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath(".:ball_spawned")
properties/1/spawn = true
properties/1/replication_mode = 1

[sub_resource type="ShaderMaterial" id="ShaderMaterial_7yui6"]
shader = ExtResource("11_ikia7")
shader_parameter/vignette_intensity = 0.7
shader_parameter/vignette_opacity = 0.30000001425
shader_parameter/vignette_rgb = Color(0, 0, 0, 1)
shader_parameter/overlay_mode = true

[node name="World" type="Node2D"]
script = ExtResource("1_fo5ed")

[node name="PlayerOneSide" type="Area2D" parent="."]
z_index = 1
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerOneSide"]
position = Vector2(64, 119)
shape = SubResource("RectangleShape2D_5v1tr")

[node name="PlayerTwoSide" type="Area2D" parent="."]
z_index = 1
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerTwoSide"]
position = Vector2(192, 119)
shape = SubResource("RectangleShape2D_0fj1v")

[node name="BackGround" type="Node2D" parent="."]

[node name="BG" type="Sprite2D" parent="BackGround"]
modulate = Color(0.47801313, 0.47801313, 0.47801313, 1)
position = Vector2(128, 96)
texture = ExtResource("3_o06y3")

[node name="BG2" type="Sprite2D" parent="BackGround"]
modulate = Color(0.59156823, 0.59156823, 0.59156823, 1)
position = Vector2(128, 48)
texture = ExtResource("3_o06y3")

[node name="Seats" type="Sprite2D" parent="BackGround"]
position = Vector2(128, 48)
texture = ExtResource("4_5v1tr")

[node name="Seats" type="Sprite2D" parent="BackGround/Seats"]
position = Vector2(0, 54)
texture = ExtResource("4_5v1tr")

[node name="TileMapLayer" type="TileMapLayer" parent="BackGround"]
position = Vector2(128, 80)
tile_map_data = PackedByteArray("AAD4/wMAAAAAAAAAAAD5/wMAAAAAAAAAAAD6/wMAAAAAAAAAAAD7/wMAAAAAAAAAAAD8/wMAAAAAAAAAAAD9/wMAAAAAAAAAAAD+/wMAAAAAAAAAAAD//wMAAAAAAAAAAAAAAAMAAAAAAAAAAAABAAMAAAAAAAAAAAACAAMAAAAAAAAAAAADAAMAAAAAAAAAAAAEAAMAAAAAAAAAAAAFAAMAAAAAAAAAAAAGAAMAAAAAAAAAAAAHAAMAAAAAAAAAAAD4/wIAAAABAAAAAAD5/wIAAAABAAAAAAD6/wIAAAABAAAAAAD7/wIAAAABAAAAAAD8/wIAAAABAAAAAAD9/wIAAAABAAAAAAD+/wIAAAABAAAAAAD//wIAAAABAAAAAAAAAAIAAAABAAAAAAABAAIAAAABAAAAAAACAAIAAAABAAAAAAADAAIAAAABAAAAAAAEAAIAAAABAAAAAAAFAAIAAAABAAAAAAAGAAIAAAABAAAAAAAHAAIAAAABAAAAAAA=")
tile_set = SubResource("TileSet_8j60k")

[node name="BG3" type="Sprite2D" parent="BackGround"]
modulate = Color(0.59156823, 0.59156823, 0.59156823, 1)
position = Vector2(128, 16)
rotation = -3.1415925
texture = ExtResource("3_o06y3")

[node name="Stands" type="Sprite2D" parent="BackGround"]
modulate = Color(0.7014114, 0.7014114, 0.7014114, 1)
position = Vector2(128, 68)
texture = ExtResource("4_k7acu")

[node name="SideWalls" type="StaticBody2D" parent="."]
collision_layer = 8
collision_mask = 3
physics_material_override = SubResource("PhysicsMaterial_5v1tr")

[node name="CollisionShape2D" type="CollisionShape2D" parent="SideWalls"]
position = Vector2(-6, 49)
shape = SubResource("RectangleShape2D_k7acu")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="SideWalls"]
position = Vector2(262, 49)
shape = SubResource("RectangleShape2D_k7acu")

[node name="Pole" type="StaticBody2D" parent="."]
position = Vector2(128, 103)
collision_layer = 32
collision_mask = 2
physics_material_override = SubResource("PhysicsMaterial_5ukr8")

[node name="Pole" type="Sprite2D" parent="Pole"]
z_index = 1
position = Vector2(-8, -30)
texture = ExtResource("2_5a7ea")
centered = false

[node name="Ball Collision" type="CollisionShape2D" parent="Pole"]
position = Vector2(0, 6.9999995)
shape = SubResource("CapsuleShape2D_5a7ea")

[node name="PlayerBlocker" type="StaticBody2D" parent="."]
collision_layer = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerBlocker"]
position = Vector2(128, 78)
shape = SubResource("RectangleShape2D_5a7ea")

[node name="Block Zone" type="Area2D" parent="."]
position = Vector2(128, 104)
collision_layer = 128

[node name="CollisionShape2D" type="CollisionShape2D" parent="Block Zone"]
position = Vector2(0, -0.375)
shape = SubResource("RectangleShape2D_8j60k")

[node name="Hover Zone" type="Area2D" parent="."]
position = Vector2(128, 46)
collision_layer = 4
collision_mask = 2
script = ExtResource("4_5ukr8")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hover Zone"]
position = Vector2(0, 4.75)
shape = SubResource("RectangleShape2D_o06y3")

[node name="ScoreBoard" parent="." instance=ExtResource("10_0fj1v")]
position = Vector2(128, 12)

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("uid://cf3plcg7m0wcg", "uid://txgrcwpblspl")
spawn_path = NodePath("..")
script = ExtResource("10_ikia7")
network_player = ExtResource("1_a02cp")

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_c5t2i")

[node name="BallTimer" type="Timer" parent="."]
wait_time = 2.0
one_shot = true

[node name="Vignette" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_7yui6")
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_right = 256.0
offset_bottom = 144.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 1, 1, 0)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(128, 72)

[node name="InGame_UI" parent="." instance=ExtResource("12_7yui6")]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
grow_horizontal = 2
grow_vertical = 2

[node name="Bot" parent="." instance=ExtResource("13_c5t2i")]
position = Vector2(200, 96)

[connection signal="body_entered" from="PlayerOneSide" to="." method="_on_player_one_side_body_entered"]
[connection signal="body_entered" from="PlayerTwoSide" to="." method="_on_player_two_side_body_entered"]
[connection signal="body_entered" from="Block Zone" to="." method="_on_block_zone_body_entered"]
[connection signal="body_exited" from="Block Zone" to="." method="_on_block_zone_body_exited"]
[connection signal="timeout" from="BallTimer" to="." method="_on_ball_timer_timeout"]

[editable path="InGame_UI"]
